###Dashboard >> PracticeMeasureGrid >> LandingPage

PracticeMeasureCountWithHighLowScores = select Count(distinct MeasureId) as totalcount \
from [FIGMDWeb].[dbo].[ViewMeasureComputationSummary]  \
where PracticeUid IN (select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth' and Flag = '@flag' \
and ProviderUid is null and LocationUid is null and MeasureType='0' and IsDownwardTrending='@score' 


LastUpdatedDate = Select top 1 CONVERT(VARCHAR, P.EndTime, 101) + ' ' + \
CONVERT(VARCHAR, DATEPART(hh, P.EndTime)) + ':' + \
RIGHT('0' + CONVERT(VARCHAR, DATEPART(mi, P.EndTime)), 2) AS Date,P.QuarterEndDate from [FIGMDWeb].[dbo].[PracticeRefreshStatus] P \
where PracticeUid IN(select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i on \
f.Figuseruid = i.individualuid where loginname ='@loginuser') and P.Flag='@flag' and \
P.QuarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth')\
order by  P.Endtime desc


PracticeMeasureHighLowScore = select (DisplayName + '' +MeasureId) as ID, \
Replace(ShortDescription,' ','') as Measure, \
'RegistryAverage:'+CAST(CONVERT(DECIMAL(10,2),NationalAverage*100 ) AS varchar)+'%' as RegistryAverage, \
CAST(CONVERT(DECIMAL(10,2),Average*100) AS varchar)+'%' as Performance, ListOrder \
from [FIGMDWeb].[dbo].[ViewMeasureComputationSummary]  \
where PracticeUid IN (select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth' and Flag = '@flag' \
and ProviderUid is null and LocationUid is null and MeasureType='0' and IsDownwardTrending='@score' \
order by ListOrder 


PFMCountR = select distinct Count(Measure) as totalcount \
from [FIGMDWeb].dbo.ViewMeasureComputationSummary v \
inner join [FIGMDWeb].dbo.FIGUserFavorite f on f.Value = v.NationalProgramQualityMeasureUid \
where PracticeUid IN \
(select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth' and Flag = '@flag' \
and ProviderUid is null and LocationUid is null AND f.FIGUserUid in(select FIGUserUid from [FIGMDHQIManagement].dbo.FIGUser where loginname ='@loginuser') \
AND f.PageName = 'MEASURE'


PFMViewNR = select (DisplayName + '' +MeasureId) as ID, \
Replace(ShortDescription,' ','') as Measure,\
'RegistryAverage:'+CAST(CONVERT(DECIMAL(10,2),NationalAverage*100 ) AS varchar)+'%' as RegistryAverage, \
CAST(CONVERT(DECIMAL(10,2),Average*100) AS varchar)+'%' as Performance, ListOrder \
from [FIGMDWeb].dbo.ViewMeasureComputationSummary v \
inner join [FIGMDWeb].dbo.FIGUserFavorite f on f.Value = v.NationalProgramQualityMeasureUid \
where PracticeUid IN \
(select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth'  and Flag = '@flag' \
and ProviderUid is null and LocationUid is null AND f.FIGUserUid in(select FIGUserUid from [FIGMDHQIManagement].dbo.FIGUser where loginname ='@loginuser') \
AND f.PageName = 'MEASURE' \
order by ListOrder


PFMViewR = select (DisplayName + '' +MeasureId) as ID, \
Replace(ShortDescription,' ','') as Measure,\
'RegistryAverage:'+CAST(CONVERT(DECIMAL(10,2),NationalAverage*100 ) AS varchar)+'%' as RegistryAverage, \
CAST(CONVERT(DECIMAL(10,2),Average*100) AS varchar)+'%' as Performance, ListOrder \
from [FIGMDWeb].dbo.ViewMeasureComputationSummary v \
inner join [FIGMDWeb].dbo.FIGUserFavorite f on f.Value = v.NationalProgramQualityMeasureUid \
where PracticeUid IN \
(select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth'  and Flag = '@flag' \
and ProviderUid is null and LocationUid is null AND f.FIGUserUid in(select FIGUserUid from [FIGMDHQIManagement].dbo.FIGUser where loginname ='@loginuser') \
AND f.PageName = 'MEASURE' \
order by ListOrder


PracticeAllMeasureCountR = select distinct COUNT(MeasureId) as Count from [FIGMDWeb].[dbo].[ViewMeasureComputationSummary] \
where PracticeUid IN (select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth' and Flag = '@flag' \
and ProviderUid is null and LocationUid is null and MeasureType='0'


PracticeMeasureGridR = select distinct (DisplayName + '' +MeasureId) as ID, Replace(ShortDescription,' ','') as Measure, \
CAST(CONVERT(DECIMAL(10,2),Average*100) AS varchar)+'%' as Performance,\
'RegistryAverage:'+CAST(CONVERT(DECIMAL(10,2),NationalAverage*100 ) AS varchar)+'%' as RegistryAverage, ListOrder \
from [FIGMDWeb].[dbo].[ViewMeasureComputationSummary] \
where PracticeUid IN (select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth' and Flag = '@flag' and ProviderUid is null and LocationUid is null and MeasureType='0'\
order by ListOrder


###Dashboard >> PracticeMeasureGrid >> Pop-up


PracticeAllProvidersPopUpViewNR=select distinct top 15 Name as LocationName, isNull(Denominator,0) as Qualified, isNull(Numerator,0) as Met, \
 isNull(NotMet,0) as NotMet, CAST(CONVERT(DECIMAL(10,2),isnull(Average,0)*100) AS varchar)+'%' as performance,\
  'Registry Average: '+CAST(CONVERT(DECIMAL(10,2),isnull(NationalAverage,0)*100 ) AS varchar)+'%' as registryBenchmark \
   from [FIGMDHQIManagement].[dbo].Viewserviceprovider vf \
     left join [FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc \
   on vf.ServiceProviderUid=msc.Provideruid and msc.QuarterName='2017Q3' and flag='@flag' and msc.provideruid is not null \
   and locationuid is  null and msc.NationalProgramQualityMeasureUid='@measureID' \
   left join dbo.FIGUserAuthorization fa on fa.ObjectUid = vf.ServiceProviderUid and type in ('1','3') \
   and OBJECtname = 'provider' AND fa.figuseruid IN(SELECT figuseruid FROM figuser WHERE loginname = 'practice.admin') \
   where  vf.PracticeUid IN (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy') and Name is not null  and vf.inactive=0  and vf.ServiceProviderUid in (select  distinct provideruid from [FIGMDWeb].[dbo].ViewMeasureComputationSummary \
   where PracticeUid in  (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy'))\
   order by name


PracticeAllProvidersPopUpViewR=select distinct top 15 Name as LocationName, isNull(Denominator,0) as Qualified, isNull(Numerator,0) as Met, \
 isNull(NotMet,0) as NotMet, CAST(CONVERT(DECIMAL(10,2),isnull(Average,0)*100) AS varchar)+'%' as performance,\
  'Registry Average: '+CAST(CONVERT(DECIMAL(10,2),isnull(NationalAverage,0)*100 ) AS varchar)+'%' as registryBenchmark \
   from Viewserviceprovider vf  \
   left join [FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc \
   on vf.ServiceProviderUid=msc.Provideruid and msc.QuarterName='2017Q3' and flag='@flag' and msc.provideruid is not null \
   and locationuid is  null and msc.NationalProgramQualityMeasureUid='@measureID' \
   left join dbo.FIGUserAuthorization fa on fa.ObjectUid = vf.ServiceProviderUid and type in ('1','3') \
   and OBJECtname = 'provider' AND fa.figuseruid IN(SELECT figuseruid FROM figuser WHERE loginname = 'practice.admin') \
   where  vf.PracticeUid IN (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy') and Name is not null  and vf.inactive=0  and vf.ServiceProviderUid in (select  distinct provideruid from [FIGMDWeb].[dbo].ViewMeasureComputationSummary \
   where PracticeUid in  (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy'))\
   order by name
   
 
PracticeAllProvidersPopUpCountR=select count(distinct serviceprovideruid ) as totalcount  from [FIGMDHQIManagement].[dbo].Viewserviceprovider  vf \
   left join [FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc \
   on vf.ServiceProviderUid=msc.Provideruid and msc.QuarterName='2017Q3' and flag='@flag' and msc.provideruid is not null \
   and locationuid is  null and msc.NationalProgramQualityMeasureUid='@measureID' \
   left join dbo.FIGUserAuthorization fa on fa.ObjectUid = vf.ServiceProviderUid and type in ('1','3') \
   and OBJECtname = 'provider' AND fa.figuseruid IN(SELECT figuseruid FROM figuser WHERE loginname = 'practice.admin') \
   where  vf.PracticeUid IN (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy') and Name is not null  and vf.inactive=0  and vf.ServiceProviderUid in (select  distinct provideruid from [FIGMDWeb].[dbo].ViewMeasureComputationSummary \
   where PracticeUid in  (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy')) \
  


PracticeAllProvidersPopUpCountNR=select count(distinct serviceprovideruid ) as totalcount  from [FIGMDHQIManagement].[dbo].Viewserviceprovider  vf \
   left join [FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc \
   on vf.ServiceProviderUid=msc.Provideruid and msc.QuarterName='2017Q3' and flag='@flag' and msc.provideruid is not null \
   and locationuid is  null and msc.NationalProgramQualityMeasureUid='@measureID' \
   left join dbo.FIGUserAuthorization fa on fa.ObjectUid = vf.ServiceProviderUid and type in ('1','3') \
   and OBJECtname = 'provider' AND fa.figuseruid IN(SELECT figuseruid FROM figuser WHERE loginname = 'practice.admin') \
   where  vf.PracticeUid IN (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy') and Name is not null  and vf.inactive=0  and vf.ServiceProviderUid in (select  distinct provideruid from [FIGMDWeb].[dbo].ViewMeasureComputationSummary \
   where PracticeUid in  (select PracticeUid from Figuser f inner join individual i on f.Figuseruid = i.individualuid \
   where loginname ='probeer.roy'))\
  



PracticeLocationPopUpCountNR=Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility where  \
servicelocationuid in ( \
select distinct ServiceLocationUid \
from [FIGMDWeb].[dbo].viewservicelocation vsl \
inner join [FIGMDWeb].[dbo].ViewMeasureComputationSummary vmcs on vsl.PracticeUid=vmcs.PracticeUid \
where vmcs.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and QuarterName='@quartermonth' and flag='@flag' \
and locationuid is  not null and provideruid is  null \
and NationalProgramQualityMeasureUid='@measureID' and inactive = '0')



PracticeLocationPopUpCountR= Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility vf \
left join [FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc \
on vf.ServiceLocationUid=msc.locationuid and msc.QuarterName= '@quartermonth' and flag='@flag' \
and msc.locationuid is  not null and provideruid is  null  \
and msc.NationalProgramQualityMeasureUid='@measureID' where  \
vf.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and vf.inactive=0



LocationBubbleCountNR=Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility where \
servicelocationuid in ( \
select distinct ServiceLocationUid \
from [FIGMDWeb].[dbo].viewservicelocation vsl \
inner join [FIGMDWeb].[dbo].ViewMeasureComputationSummary vmcs on vsl.PracticeUid=vmcs.PracticeUid \
where vmcs.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and QuarterName='@quartermonth' and flag='@flag' \
and locationuid is  not null and provideruid is  null )


LocationBubbleCountR=Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility where \
servicelocationuid in ( \
select distinct ServiceLocationUid \
from [FIGMDWeb].[dbo].viewservicelocation vsl \
inner join [FIGMDWeb].[dbo].ViewMeasureComputationSummary vmcs on vsl.PracticeUid=vmcs.PracticeUid \
where vmcs.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and QuarterName='@quartermonth' and flag='@flag' \
and locationuid is  not null and provideruid is  null )


LocationCountNR=Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility where \
servicelocationuid in ( \
select distinct ServiceLocationUid \
from [FIGMDWeb].[dbo].viewservicelocation vsl \
inner join [FIGMDWeb].[dbo].ViewMeasureComputationSummary vmcs on vsl.PracticeUid=vmcs.PracticeUid \
where vmcs.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and QuarterName='@quartermonth' and flag='@flag' \
and locationuid is  not null and provideruid is  null )


LocationCountR=Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility where \
servicelocationuid in ( \
select distinct ServiceLocationUid \
from [FIGMDWeb].[dbo].viewservicelocation vsl \
inner join [FIGMDWeb].[dbo].ViewMeasureComputationSummary vmcs on vsl.PracticeUid=vmcs.PracticeUid \
where vmcs.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and QuarterName='@quartermonth' and flag='@flag' \
and locationuid is  not null and provideruid is  null )


PracticeLocationPopUpViewR=select top 15 ServiceLocationUid,Name as LocationName, \
isNull(Denominator,0) as Qualified, \
isNull(Numerator,0) as Met, \
isNull(NotMet,0) as NotMet, \
CAST(CONVERT(DECIMAL(10,2),isnull(Average,0)*100) AS varchar)+'%' as performance, \
'Registry Average: '+CAST(CONVERT(DECIMAL(10,2),isnull(NationalAverage,0)*100 ) AS varchar)+'%' as registryBenchmark \
from [FIGMDHQIManagement].[dbo].ViewFacility vf \
left join [FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc \
on vf.ServiceLocationUid=msc.locationuid and msc.QuarterName= '@quartermonth' and flag='@flag' \
and msc.locationuid is  not null and provideruid is  null \
and msc.NationalProgramQualityMeasureUid='@measureID' \
where  vf.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and vf.inactive=0 \
order by name



PracticeLocationPopUpCountR=Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility where \
servicelocationuid in ( \
select distinct ServiceLocationUid \
from [FIGMDWeb].[dbo].viewservicelocation vsl \
inner join [FIGMDWeb].[dbo].ViewMeasureComputationSummary vmcs on vsl.PracticeUid=vmcs.PracticeUid \
where vmcs.PracticeUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and QuarterName='@quartermonth' and flag='@flag' \
and locationuid is  not null and provideruid is  null \
and NationalProgramQualityMeasureUid='@measureID' and inactive = '0')


PracticeLocationPopUpCountNR=Select Count(Name) as totalcount \
from [FIGMDHQIManagement].[dbo].ViewFacility where  \
servicelocationuid in ( \
select distinct ServiceLocationUid \
from [FIGMDWeb].[dbo].viewservicelocation vsl \
inner join [FIGMDWeb].[dbo].ViewMeasureComputationSummary vmcs on vsl.PracticeUid=vmcs.PracticeUid \
where vmcs.PracticeUid IN (select PracticeUid from Figuser f inner join individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') \
and QuarterName='@quartermonth' and flag='@flag' \
and locationuid is  not null and provideruid is  null \
and NationalProgramQualityMeasureUid='@measureID' and inactive = '0')


PracticePatientDrillDownCountR=select COUNT(MRN)as totalcount \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients where PatientUid in ( select PatientUid  \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationPracticeRollingQuarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i  \
on f.Figuseruid = i.individualuid  \
where loginname ='@loginuser') \
AND M.MeasureUid='@measureID' \
AND M.Notmet='0' \
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))


PracticePatientDrillDownCountNR= select COUNT(MRN)as totalcount \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients where PatientUid in ( select PatientUid  \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationPracticeQuarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i  \
on f.Figuseruid = i.individualuid  \
where loginname ='@loginuser') \
AND M.MeasureUid='@measureID' \
AND M.Notmet='0' \
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))


PracticeAllProvidersPatientDrillDownCountNR=select COUNT(MRN)as totalcount  \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients where PatientUid in ( select PatientUid  \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderrollingquarterly M  \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i  \
on f.Figuseruid = i.individualuid   \
where loginname ='@loginuser')  \
AND M.MeasureUid='@measureID'  \
AND M.ProviderUid ='52ed9967-baa6-4c11-9777-25df5c09e2df' and M.Notmet='0'  \
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth' and flag = '@flag'))

###52ed9967-baa6-4c11-9777-25df5c09e2df ,AND M.ProviderUid ='@provideruid' and M.Notmet='0'  \
Dashboard >> Provider

ProviderCountRNR= select COUNT(distinct v.name) as totalcount \
from [FIGMDHQIManagement].[dbo].Viewserviceprovider v inner join \
[FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc on msc.PracticeUid in \
(Select PracticeUid from [FIGMDHQIManagement].[dbo].Individual where IndividualUid = (select FIGUserUid from [FIGMDHQIManagement].[dbo].FIGUser where LoginName='@loginuser')) and Type in ('1','3')  and Inactive='0' \
and msc.ProviderUid = v.ServiceProviderUid and msc.QuarterName ='@quartermonth' and msc.Flag='@flag'

ProviderMeasureComputationSummaryViewR= select top 4 QuarterName as Quarter,Denominator as Allmeasures,Numerator as Met,NotMet, \
CAST(CONVERT(DECIMAL(10,2),Average*100) AS varchar)+' %' as Score from [FIGMDWeb].[dbo].ViewMeasureComputationSummary \
where PracticeUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
and flag='@flag' \
and ProviderUid='@provideruid' \
and NationalProgramQualityMeasureUid='@measureuid'\
and QuarterName <='@quartermonth'\
and locationuid is  null and providername is not null order by QuarterName desc

ProviderMeasureComputationSummaryViewNR= select top 4 QuarterName as Quarter,Denominator as Allmeasures,Numerator as Met,NotMet, \
CAST(CONVERT(DECIMAL(10,2),Average*100) AS varchar)+' %' as Score from [FIGMDWeb].[dbo].ViewMeasureComputationSummary \
where PracticeUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
and flag='@flag' \
and ProviderUid='@provideruid' \
and NationalProgramQualityMeasureUid='@measureuid'\
and QuarterName <='@quartermonth'\
and locationuid is  null and providername is not null order by QuarterName desc

ProviderMeasureViewRNR= select distinct (DisplayName + '' +MeasureId) as ID, Replace(ShortDescription,' ','') as Measure, \
CAST(CONVERT(DECIMAL(10,2),Average*100) AS varchar)+'%' as Performance,\
'RegistryAverage:'+CAST(CONVERT(DECIMAL(10,2),NationalAverage*100 ) AS varchar)+'%' as RegistryAverage, ListOrder \
from [FIGMDWeb].[dbo].[ViewMeasureComputationSummary] \
where PracticeUid IN (select PracticeUid from [FIGMDHQIManagement].dbo.FIGUser f inner join [FIGMDHQIManagement].dbo.Individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser') and QuarterName='@quartermonth' and Flag = '@flag' and ProviderUid ='@provideruid' and LocationUid is null and MeasureType='0'\
order by ListOrder 

ProviderPatientDrillDownCountR=select COUNT(MRN)as totalcount \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderrollingquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid  \
where loginname ='@loginuser') \
AND M.MeasureUid='@measureuid' \
AND M.ProviderUid ='@provideruid' and M.Notmet='0' \
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))

ProviderPatientDrillDownCountNR= select COUNT(MRN)as totalcount \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid  \
where loginname ='@loginuser') \
AND M.MeasureUid='@measureuid' AND M.ProviderUid ='@provideruid' and M.Notmet='0' AND M.quarterEndDate \
= (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))

ProviderPatientDrillDownSortR= select top 15 W.Name, W.MRN,W.Gender,REPLACE(W.DOB,'/','-') as DOB \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients W where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderrollingquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
AND M.MeasureUid='@measureuid' \
AND M.ProviderUid ='@provideruid' and M.Notmet='0'\
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))\
order by  \
CASE '@sort' \
WHEN 'MRN' THEN W.MRN \
WHEN 'Name' THEN W.Name \
WHEN 'Gender' THEN W.Gender \
WHEN 'DOB' THEN W.DOB  \
END

ProviderPatientDrillDownSortNR= select top 15 W.Name, W.MRN,W.Gender,REPLACE(W.DOB,'/','-') as DOB \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients W where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
AND M.MeasureUid='@measureuid' \
AND M.ProviderUid ='@provideruid' and M.Notmet='0'\
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))\
order by  \
CASE '@sort' \
WHEN 'MRN' THEN W.MRN \
WHEN 'Name' THEN W.Name \
WHEN 'Gender' THEN W.Gender \
WHEN 'DOB' THEN W.DOB  \
END

ProviderPatientDrillDownViewR1 = select top 15 W.Name, W.MRN,W.Gender,REPLACE(W.DOB,'/','-') as DOB \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients W where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderrollingquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
AND M.MeasureUid='@measureuid' AND M.ProviderUid ='@provideruid' and M.Notmet='0'\
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth')) order by W.Name 


ProviderPatientDrillDownViewNR1 = select top 15 W.Name, W.MRN,W.Gender,REPLACE(W.DOB,'/','-') as DOB \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients W where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
AND M.MeasureUid='@measureuid' AND M.ProviderUid ='@provideruid' and M.Notmet='0'\
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth')) order by W.Name 


ProviderPatientDrillDownPaginationR= DECLARE  @RowspPage AS INT \
SET @RowspPage = 15 \
SELECT * FROM ( \
select  W.Name, W.MRN, W.Gender, REPLACE(W.DOB,'/','-') as DOB, ROW_NUMBER() OVER(order by name) AS Rownumber \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients W where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderrollingquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
AND M.MeasureUid='@measureuid' AND M.ProviderUid ='@provideruid' and M.Notmet='0'\
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))) AS TBL \
WHERE Rownumber BETWEEN ((@pagenumber - 1) * @RowspPage + 1) AND (@pagenumber * @RowspPage)


ProviderPatientDrillDownPaginationNR= DECLARE  @RowspPage AS INT \
SET @RowspPage = 15 \
SELECT * FROM ( \
select  W.Name, W.MRN, W.Gender, REPLACE(W.DOB,'/','-') as DOB, ROW_NUMBER() OVER(order by name) AS Rownumber \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients W where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
AND M.MeasureUid='@measureuid' AND M.ProviderUid ='@provideruid' and M.Notmet='0'\
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))) AS TBL \
WHERE Rownumber BETWEEN ((@pagenumber - 1) * @RowspPage + 1) AND (@pagenumber * @RowspPage)

ProviderPatientDrillDownPaginationR= DECLARE  @RowspPage AS INT \
SET @RowspPage = 15 \
SELECT * FROM ( \
select  W.Name, W.MRN, W.Gender, REPLACE(W.DOB,'/','-') as DOB, ROW_NUMBER() OVER(order by name) AS Rownumber \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].webpatients W where PatientUid in ( select PatientUid \
from [10.20.201.188].[FIGMDWebPartition_2017_79].[dbo].MeasureComputationProviderrollingquarterly M \
where practiceUid IN (select PracticeUid from FIGMDHQIManagement.dbo.Figuser f inner join FIGMDHQIManagement.dbo.individual i \
on f.Figuseruid = i.individualuid \
where loginname ='@loginuser')\
AND M.MeasureUid='@measureuid' AND M.ProviderUid ='@provideruid' and M.Notmet='0'\
and M.quarterEndDate = (select distinct QuarterEndDate from [FIGMDWeb].[dbo].ViewMeasureComputationSummary where QuarterName='@quartermonth'))) AS TBL \
WHERE Rownumber BETWEEN ((@pagenumber - 1) * @RowspPage + 1) AND (@pagenumber * @RowspPage)


PracticeProvidersPopUpCountR=select COUNT(distinct v.name) as totalcount \
from [FIGMDHQIManagement].[dbo].Viewserviceprovider v inner join \
[FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc on msc.PracticeUid in \
(Select PracticeUid from [FIGMDHQIManagement].[dbo].Individual where IndividualUid = (select FIGUserUid from [FIGMDHQIManagement].[dbo].FIGUser where LoginName='@loginuser')) and Type in ('1','3')  and Inactive='0' \
and msc.ProviderUid = v.ServiceProviderUid and msc.QuarterName ='@quartermonth' and msc.Flag='@flag'

PracticeProvidersPopUpCountNR=select COUNT(distinct v.name) as totalcount \
from [FIGMDHQIManagement].[dbo].Viewserviceprovider v inner join \
[FIGMDWeb].[dbo].ViewMeasureComputationSummary  msc on msc.PracticeUid in \
(Select PracticeUid from [FIGMDHQIManagement].[dbo].Individual where IndividualUid = (select FIGUserUid from [FIGMDHQIManagement].[dbo].FIGUser where LoginName='@loginuser')) and Type in ('1','3')  and Inactive='0' \
and msc.ProviderUid = v.ServiceProviderUid and msc.QuarterName ='@quartermonth' and msc.Flag='@flag'


#>>>>>>>>>>>>>>>>>>>>Pms>>>>>>>>>>>>>>>>>>>
ComparePracticename=select p.listname as totalcount from practice p  \
inner join Individual i \
on i.practiceuid = p.PracticeUid  \
inner join figuser f \
on f.FIGUserUid = i.individualuid \
where f.LoginName='@loginuser' 


CompareActiveClinician=select count(Name)  as totalcount  from ViewServiceProvider where PracticeUid in (Select PracticeUid from Practice \
where ListName ='@PmsPracticeName') \
and type in ('1','3') and Inactive = '0'

ComparePracticeStatus=select mm.description as totalcount from Practice p \
 inner join PracticeStatusFRED psf  \
 on p.practiceuid = psf.practiceuid  \
left join MasterMilestone mm \
on mm.milestoneuid = psf.statusuid \
where p.ListName ='@PmsPracticeName'

VerifyPracticeAddress=select a.line1 as totalcount \
from practice p \
inner join contactdetail c \
on p.contactdetailuid = c.contactdetailuid \
inner join address a \
on c.address1uid = a.addressuid \
inner join \
masterstate m \
on a.stateuid = m.stateuid \
inner join TechnicalSurveyDetails td \
on td.PracticeUID = p.PracticeUid \
left join PracticeStatusFRED psf \
on p.practiceuid = psf.practiceuid \
left join MasterMilestone mm \
on mm.milestoneuid = psf.statusuid  \
left join PracticeBasicInformation pb \
on pb.practiceuid = p.practiceuid \
where p.listname ='@PmsPracticeName'

VerifyPracticeState=select a.State as totalcount  \
from practice p \
inner join contactdetail c \
on p.contactdetailuid = c.contactdetailuid \
inner join address a \
on c.address1uid = a.addressuid \
inner join \
masterstate m \
on a.stateuid = m.stateuid \
inner join TechnicalSurveyDetails td \
on td.PracticeUID = p.PracticeUid \
left join PracticeStatusFRED psf \
on p.practiceuid = psf.practiceuid \
left join MasterMilestone mm \
on mm.milestoneuid = psf.statusuid  \
left join PracticeBasicInformation pb \
on pb.practiceuid = p.practiceuid \
where p.listname ='@PmsPracticeName'

VerifyPracticeCity=select a.City as totalcount  \
from practice p \
inner join contactdetail c \
on p.contactdetailuid = c.contactdetailuid \
inner join address a \
on c.address1uid = a.addressuid \
inner join \
masterstate m \
on a.stateuid = m.stateuid \
inner join TechnicalSurveyDetails td \
on td.PracticeUID = p.PracticeUid \
left join PracticeStatusFRED psf \
on p.practiceuid = psf.practiceuid \
left join MasterMilestone mm \
on mm.milestoneuid = psf.statusuid  \
left join PracticeBasicInformation pb \
on pb.practiceuid = p.practiceuid \
where p.listname ='@PmsPracticeName' 


VerifyPracticeTimeZone=select pb.practicetimezone as totalcount \
from practice p \
inner join contactdetail c \
on p.contactdetailuid = c.contactdetailuid \
inner join address a \
on c.address1uid = a.addressuid \
inner join \
masterstate m \
on a.stateuid = m.stateuid \
inner join TechnicalSurveyDetails td \
on td.PracticeUID = p.PracticeUid \
left join PracticeStatusFRED psf \
on p.practiceuid = psf.practiceuid \
left join MasterMilestone mm \
on mm.milestoneuid = psf.statusuid  \
left join PracticeBasicInformation pb \
on pb.practiceuid = p.practiceuid \
where p.listname ='@PmsPracticeName' 


VerifyPracticeZip=select a.postalcode as totalcount \
from practice p \
inner join contactdetail c \
on p.contactdetailuid = c.contactdetailuid \
inner join address a \
on c.address1uid = a.addressuid \
inner join \
masterstate m \
on a.stateuid = m.stateuid \
inner join TechnicalSurveyDetails td \
on td.PracticeUID = p.PracticeUid \
left join PracticeStatusFRED psf \
on p.practiceuid = psf.practiceuid \
left join MasterMilestone mm \
on mm.milestoneuid = psf.statusuid  \
left join PracticeBasicInformation pb \
on pb.practiceuid = p.practiceuid \
where p.listname ='@PmsPracticeName' 


VerifyITContactName=select isnull(practiceitcontactname,'')  as totalcount  \
from  TechnicalSurveyDetails tsd \
inner join Practice p  \
on p.PracticeUid=tsd.PracticeUID \
where p.listname = '@PmsPracticeName' 


VerifyITContactEmail=select isnull(practiceitcontactemail,'')   as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 


VerifyITContactPhone=select isnull(practiceitcontactphone,'')  as  totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifySubmissionMethod=select isnull(SubmissionMethod,'')  as  totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyPracticeEMR=select isnull(ehrname,'') as  totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyPEmrVersion=select isnull(ehrVersion,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 


VerifyPracticeEMRHosting=select isnull(ehrhosting,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyPracticeEHRExtractionMethod=select isnull(ehrextractionmethod,'')   as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyEHRPushFileType=select isnull(ehrpushfiletype,'') as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 


VerifyEHRpushMethod=select isnull(Pushmethod,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

PMrcmExtractionMethod=select isnull([PM/RCMExtractionMethod],'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

Pm=select isnull(pmsystemname,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyPMrcmPushFileType=select isnull([PM/RCMPUSH],'') as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName'
------------------------
VerifyPmSystemVersion=select isnull(pmsystemversion,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyPmIntegrationDate=select isnull(pmIntegrationCompletiondate,'')   as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyRpcInstallDate=select isnull(rpcinstalldate,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyRpcInstalledOn=select isnull(rpcinstalledon,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyPracticeConnectivity=select isnull(connectivitystatus,'') as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyExtractFrequency=select isnull(extractfrequency,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyExtractStartTime=select isnull(ExtractStartTime,'')    as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyExtractStopTime=select isnull(ExtractStopTime,'')  as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyEMRaccountNumber=select isnull(emrid,'') as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VefiryElixirID=select isnull(SourceID,'')  as totalcount  \
from Practice where listname = '@PmsPracticeName' 


VerifyElixirKey=select isnull(ElixirKey,'') as totalcount  \
from  TechnicalSurveyDetails tsd  \
inner join Practice p   \
on p.PracticeUid=tsd.PracticeUID  \
where p.listname = '@PmsPracticeName' 

VerifyAco=select cfo.displayname as totalcount from CustomFieldDataCollectionFRED ccf  \
inner join CustomFieldOptionsFRED cfo  \
on ccf.value=cfo.CustomFieldOptionsMasterUid  \
where ccf.PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName')  \
and FieldName='ACO' 

VerifyPrimaryCare=select cfo.displayname as totalcount from CustomFieldDataCollectionFRED ccf   \
inner join CustomFieldOptionsFRED cfo   \
on ccf.value=cfo.CustomFieldOptionsMasterUid   \
where ccf.PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName')  \
and FieldName='Comprehensive Primary Care'

VerifyLastUpdateDate=select value as totalcount from CustomFieldDataCollectionFRED  \
where  PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName')  and fieldname='Last Profile Update Date'

VerifyMipsComponent=select cfo.displayname as totalcount from CustomFieldDataCollectionFRED ccf  \
inner join CustomFieldOptionsFRED cfo  \
on ccf.value=cfo.CustomFieldOptionsMasterUid  \
where ccf.PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName')  \
and FieldName='MIPS Components'

VerifyPace=select cfo.displayname as totalcount from CustomFieldDataCollectionFRED ccf  \
inner join CustomFieldOptionsFRED cfo  \
on ccf.value=cfo.CustomFieldOptionsMasterUid  \
where ccf.PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName')  \
and FieldName='Pace'

VerifyVip=select cfo.displayname as totalcount from CustomFieldDataCollectionFRED ccf  \
inner join CustomFieldOptionsFRED cfo  \
on ccf.value=cfo.CustomFieldOptionsMasterUid \
where ccf.PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName')   \
and FieldName='VIP'

VerifyRemark=select  value as totalcount  from CustomFieldDataCollectionFRED cf1  \
where  PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName') and fieldname='Remark' 



VerifyGpro=select cfo.displayname as totalcount from CustomFieldDataCollectionFRED ccf  \
inner join CustomFieldOptionsFRED cfo  \
on ccf.value=cfo.CustomFieldOptionsMasterUid \
where ccf.PracticeUid in (select practiceuid from practice where listname= '@PmsPracticeName')   \
and FieldName='GPRO'

VerifyProviderNameSearch=select COUNT(ServiceProviderUid) as totalcount  from viewserviceprovider where PracticeUid in  \
(select practiceuid from practice where listname= '@PmsPracticeName')   \
  and type in ('1','3') and  \
 (First like'%@SearchText%' or Last like '%@SearchText%')
 
VerifyNpiSearch=select COUNT(ServiceProviderUid) as totalcount  from viewserviceprovider where PracticeUid in  (select practiceuid from practice where listname= '@PmsPracticeName')  \
   and type in ('1','3') and  \
 NPI like'%@SearchText%' 
 
 VerifySearchMemberID=select COUNT(ServiceProviderUid) as totalcount  from viewserviceprovider where PracticeUid in  (select practiceuid from practice where listname= 'Web Demo practice')  \
   and type in ('1','3') and  \
 APAID like'%@SearchText%' 
 
 VerifySearchEmail=select COUNT(ServiceProviderUid) as totalcount  from viewserviceprovider where PracticeUid in  (select practiceuid from practice where listname= 'Web Demo practice')  \
   and type in ('1','3') and  \
 emailAddress  like'%@SearchText%' 
 
 #VerifySearchInactive=
 
 VerifyAgreementStatus=select DocumentName as Var1,DocumentStatus as Var2,  \
  case when inactive='0' then 'Completed' when inactive='1' then 'NotSigned' end as Var3,CONVERT(VARCHAR(10),documentSignedDate,105) AS Var4  \
   from signupdocumentdetails where practiceuid in (select practiceuid from practice where listname= '@PmsPracticeName')

 ####Measure Description tool tip 
 
MeasureDescription=select rational as totalcount from PQRSNationalProgramQualityMeasure where  \
PQRSNationalProgramQualityMeasureUid = '@PQRSNationalProgramQualityMeasureUid'



 
 
 

 
 
# Smoke Testcase 34 to 43 active measureset 2018 (added by Amol Bande)
 
activemeasureset2018=Select count(1) inactive from MeasureSetMaster where inactive=0
# Test case 34
CrossCuttingMeasuresForMeasureSet2018Active=select count(1) isoutcomemeasure from AAO_FIGMDPQRSWeb.dbo.PQRSMeasureComputationSummary_2018 PC, \
FIGMDHQIManagement.dbo.PQRSNationalProgramQualityMeasure PN join MeasureSetDetails md on  pn.ParentPQRSNationalProgramQualityMeasureUid=md.NationalProgramQualityMeasureUid \
join MeasureSetMaster ms on md.MeasureSetUid=ms.MeasureSetUid where PC.PQRSNationalProgramQualityMeasureUid=PN.PQRSNationalProgramQualityMeasureuid \
and pc.Practiceuid='3a24533f-2471-4b34-9370-6b5749304216' and Provideruid is null and Locationuid is null and Quarterenddate='2018-12-31 00:00:00.000' \
and Flag='QCNR' and iscrosscuttingmeasure=1 and md.MeasureSetUid='9D9E7B99-CCFB-4DD9-8B51-0F45DD96893D'


CrossCuttingMeasuresForMeasureSet2018InActive=select count(1) isoutcomemeasure from AAO_FIGMDPQRSWeb.dbo.PQRSMeasureComputationSummary_2018 PC, \
FIGMDHQIManagement.dbo.PQRSNationalProgramQualityMeasure PN join MeasureSetDetails md on  pn.ParentPQRSNationalProgramQualityMeasureUid=md.NationalProgramQualityMeasureUid \
join MeasureSetMaster ms on md.MeasureSetUid=ms.MeasureSetUid where PC.PQRSNationalProgramQualityMeasureUid=PN.PQRSNationalProgramQualityMeasureuid \
and pc.Practiceuid='3a24533f-2471-4b34-9370-6b5749304216' and Provideruid is null and Locationuid is null and Quarterenddate='2018-12-31 00:00:00.000' \
and Flag='QCNR' and iscrosscuttingmeasure=0 and md.MeasureSetUid='9D9E7B99-CCFB-4DD9-8B51-0F45DD96893D'



# Test case 35
OutcomeMeasuresForMeasureSet2018Active=select count(1) isoutcomemeasure from AAO_FIGMDPQRSWeb.dbo.PQRSMeasureComputationSummary_2018 PC,FIGMDHQIManagement.dbo.PQRSNationalProgramQualityMeasure PN \
join MeasureSetDetails md on  pn.ParentPQRSNationalProgramQualityMeasureUid=md.NationalProgramQualityMeasureUid \
join MeasureSetMaster ms on md.MeasureSetUid=ms.MeasureSetUid where PC.PQRSNationalProgramQualityMeasureUid=PN.PQRSNationalProgramQualityMeasureuid \
and pc.Practiceuid='3a24533f-2471-4b34-9370-6b5749304216' and Provideruid is null and Locationuid is null and Quarterenddate='2018-12-31 00:00:00.000' \
and Flag='QCNR' and isoutcomemeasure=1 and md.MeasureSetUid='9D9E7B99-CCFB-4DD9-8B51-0F45DD96893D' 


OutcomeMeasuresForMeasureSet2018InActive=select count(1) isoutcomemeasure from AAO_FIGMDPQRSWeb.dbo.PQRSMeasureComputationSummary_2018 PC,FIGMDHQIManagement.dbo.PQRSNationalProgramQualityMeasure PN \
join MeasureSetDetails md on  pn.ParentPQRSNationalProgramQualityMeasureUid=md.NationalProgramQualityMeasureUid \
join MeasureSetMaster ms on md.MeasureSetUid=ms.MeasureSetUid where PC.PQRSNationalProgramQualityMeasureUid=PN.PQRSNationalProgramQualityMeasureuid \
and pc.Practiceuid='3a24533f-2471-4b34-9370-6b5749304216' and Provideruid is null and Locationuid is null and Quarterenddate='2018-12-31 00:00:00.000' \
and Flag='QCNR' and isoutcomemeasure=0 and md.MeasureSetUid='9D9E7B99-CCFB-4DD9-8B51-0F45DD96893D' 





# Test case 7 and 8 Added By Amol Bande
PracticeMeasureCountR=select count(pqm.id) as totalCount from nationalprogramqualitymeasure pqm inner join \
measuresetdetails msd on msd.nationalprogramqualityMeasureuid = pqm.nationalprogramqualityMeasureuid \
inner join MeasureSetMaster msm on msm.measuresetuid = msd.measuresetuid where pqm.inactive = 0 \
and msm.measuresetuid = '43619A92-B44D-47C9-880D-F168C3AD211D'

PracticeMeasureCountNR=select count(pqm.id) as totalCount from nationalprogramqualitymeasure pqm inner join \
measuresetdetails msd on msd.nationalprogramqualityMeasureuid = pqm.nationalprogramqualityMeasureuid \
inner join MeasureSetMaster msm on msm.measuresetuid = msd.measuresetuid where pqm.inactive = 0 \
and msm.measuresetuid = '43619A92-B44D-47C9-880D-F168C3AD211D'


PracticeFavoritesMeasureCountR=select count(pqm.id) as totalCount from nationalprogramqualitymeasure pqm inner join \
measuresetdetails msd on msd.nationalprogramqualityMeasureuid = pqm.nationalprogramqualityMeasureuid \
inner join MeasureSetMaster msm on msm.measuresetuid = msd.measuresetuid where pqm.inactive = 0 \
and msm.measuresetuid = '43619A92-B44D-47C9-880D-F168C3AD211D'

PracticeFavoritesMeasureCountNR=select count(pqm.id) as totalCount from nationalprogramqualitymeasure pqm inner join \
measuresetdetails msd on msd.nationalprogramqualityMeasureuid = pqm.nationalprogramqualityMeasureuid \
inner join MeasureSetMaster msm on msm.measuresetuid = msd.measuresetuid where pqm.inactive = 0 \
and msm.measuresetuid = '43619A92-B44D-47C9-880D-F168C3AD211D'












 
 






















